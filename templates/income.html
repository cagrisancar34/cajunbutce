{% extends "base.html" %}
{% block content %}
<h2>Gelir Ekle</h2>
<form method="POST" class="mb-4 p-4 rounded shadow-sm bg-white" style="max-width: 500px; margin:auto;">
    <div class="mb-3">
        <label class="form-label">Tarih</label>
        <input type="date" name="date" value="{{ request.form.date or '' }}" class="form-control">
    </div>
    <div class="mb-3">
        <label class="form-label">Kategori</label>
        <input type="text" name="category" value="{{ request.form.category or '' }}" class="form-control" placeholder="Kategori">
    </div>
    <div class="mb-3">
        <label class="form-label">Açıklama</label>
        <input type="text" name="description" value="{{ request.form.description or '' }}" class="form-control" placeholder="Açıklama">
    </div>
    <div class="mb-3">
        <label class="form-label">Tutar</label>
        <div class="input-group">
            <span class="input-group-text">₺</span>
            <input type="number" step="0.01" name="amount" value="{{ request.form.amount or '' }}" class="form-control" placeholder="0,00">
        </div>
    </div>
    <div class="mb-3">
        <label class="form-label">Firma</label>
        <select name="firm_id" class="form-select">
            <option value="">Firma Seçiniz</option>
            {% for firm in firms %}
            <option value="{{ firm.firm_id }}">{{ firm.firm_name }} (Bakiye: {{ firm.balance | tl }})</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label">Ödeme Tipi</label>
        <select name="payment_type" class="form-select">
            {% for pt in payment_types %}
            <option value="{{ pt }}">{{ pt }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="submit" class="btn btn-success w-100">Kaydet</button>
</form>
{% endblock %}
